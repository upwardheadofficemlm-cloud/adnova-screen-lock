<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - AdNova Screen Lock</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-lock"></i>
                <span>AdNova Admin</span>
            </div>
            <div class="nav-menu">
                <a href="#dashboard" class="nav-link active">Dashboard</a>
                <a href="#devices" class="nav-link">Devices</a>
                <a href="#configurations" class="nav-link">Configurations</a>
                <a href="#analytics" class="nav-link">Analytics</a>
                <a href="#settings" class="nav-link">Settings</a>
            </div>
            <div class="nav-user">
                <div class="user-info">
                    <span id="userEmail">admin@upwardmm.com</span>
                    <button onclick="logout()" class="btn-logout">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="dashboard-section active">
            <div class="container">
                <div class="page-header">
                    <h1>Dashboard Overview</h1>
                    <p>Monitor your digital signage devices and system status</p>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalDevices">0</h3>
                            <p>Total Devices</p>
                            <span class="stat-change positive">+2 this week</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="lockedDevices">0</h3>
                            <p>Currently Locked</p>
                            <span class="stat-change neutral">Active</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalEvents">0</h3>
                            <p>Events Today</p>
                            <span class="stat-change positive">+15% from yesterday</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="alertsCount">0</h3>
                            <p>Active Alerts</p>
                            <span class="stat-change negative">Needs attention</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Device Activity</h3>
                            <button class="btn-refresh" onclick="refreshActivity()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="activity-list" id="activityList">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <div class="activity-content">
                                    <p><strong>Device-001</strong> screen locked</p>
                                    <span class="activity-time">2 minutes ago</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-unlock"></i>
                                </div>
                                <div class="activity-content">
                                    <p><strong>Device-002</strong> screen unlocked</p>
                                    <span class="activity-time">5 minutes ago</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <div class="activity-content">
                                    <p><strong>Device-003</strong> configuration updated</p>
                                    <span class="activity-time">10 minutes ago</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>System Status</h3>
                        </div>
                        <div class="status-list">
                            <div class="status-item">
                                <div class="status-indicator online"></div>
                                <span>Firebase Connection</span>
                                <span class="status-value">Online</span>
                            </div>
                            <div class="status-item">
                                <div class="status-indicator online"></div>
                                <span>Database</span>
                                <span class="status-value">Healthy</span>
                            </div>
                            <div class="status-item">
                                <div class="status-indicator online"></div>
                                <span>Storage</span>
                                <span class="status-value">Available</span>
                            </div>
                            <div class="status-item">
                                <div class="status-indicator warning"></div>
                                <span>Analytics</span>
                                <span class="status-value">Syncing</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Devices Section -->
        <section id="devices" class="devices-section">
            <div class="container">
                <div class="page-header">
                    <h1>Device Management</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="addDevice()">
                            <i class="fas fa-plus"></i>
                            Add Device
                        </button>
                        <button class="btn btn-secondary" onclick="refreshDevices()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                    </div>
                </div>

                <!-- Device Filters -->
                <div class="filters">
                    <div class="filter-group">
                        <label>Status:</label>
                        <select id="statusFilter">
                            <option value="">All</option>
                            <option value="online">Online</option>
                            <option value="offline">Offline</option>
                            <option value="locked">Locked</option>
                            <option value="unlocked">Unlocked</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Search:</label>
                        <input type="text" id="deviceSearch" placeholder="Search devices...">
                    </div>
                </div>

                <!-- Devices Table -->
                <div class="table-container">
                    <table class="devices-table">
                        <thead>
                            <tr>
                                <th>Device ID</th>
                                <th>Name</th>
                                <th>Status</th>
                                <th>Lock Type</th>
                                <th>Last Seen</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="devicesTableBody">
                            <tr>
                                <td>DEV-001</td>
                                <td>Main Display</td>
                                <td><span class="status-badge online">Online</span></td>
                                <td>Full Screen</td>
                                <td>2 minutes ago</td>
                                <td>
                                    <button class="btn-action" onclick="viewDevice('DEV-001')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action" onclick="editDevice('DEV-001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="lockDevice('DEV-001')">
                                        <i class="fas fa-lock"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>DEV-002</td>
                                <td>Side Panel</td>
                                <td><span class="status-badge offline">Offline</span></td>
                                <td>Edge Lock</td>
                                <td>1 hour ago</td>
                                <td>
                                    <button class="btn-action" onclick="viewDevice('DEV-002')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action" onclick="editDevice('DEV-002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="lockDevice('DEV-002')">
                                        <i class="fas fa-lock"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Configurations Section -->
        <section id="configurations" class="configurations-section">
            <div class="container">
                <div class="page-header">
                    <h1>Configuration Management</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="createConfiguration()">
                            <i class="fas fa-plus"></i>
                            New Configuration
                        </button>
                        <button class="btn btn-secondary" onclick="pushToAll()">
                            <i class="fas fa-broadcast-tower"></i>
                            Push to All
                        </button>
                    </div>
                </div>

                <div class="config-grid">
                    <div class="config-card">
                        <div class="config-header">
                            <h3>Default Configuration</h3>
                            <span class="config-badge active">Active</span>
                        </div>
                        <div class="config-content">
                            <div class="config-item">
                                <span>Lock Type:</span>
                                <span>Full Screen</span>
                            </div>
                            <div class="config-item">
                                <span>PIN Protection:</span>
                                <span>Enabled</span>
                            </div>
                            <div class="config-item">
                                <span>Auto Lock:</span>
                                <span>On Boot</span>
                            </div>
                            <div class="config-item">
                                <span>Kiosk Mode:</span>
                                <span>Disabled</span>
                            </div>
                        </div>
                        <div class="config-actions">
                            <button class="btn btn-sm btn-primary" onclick="editConfig('default')">
                                <i class="fas fa-edit"></i>
                                Edit
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="duplicateConfig('default')">
                                <i class="fas fa-copy"></i>
                                Duplicate
                            </button>
                        </div>
                    </div>

                    <div class="config-card">
                        <div class="config-header">
                            <h3>Kiosk Configuration</h3>
                            <span class="config-badge">Inactive</span>
                        </div>
                        <div class="config-content">
                            <div class="config-item">
                                <span>Lock Type:</span>
                                <span>Full Screen</span>
                            </div>
                            <div class="config-item">
                                <span>PIN Protection:</span>
                                <span>Disabled</span>
                            </div>
                            <div class="config-item">
                                <span>Auto Lock:</span>
                                <span>On Boot</span>
                            </div>
                            <div class="config-item">
                                <span>Kiosk Mode:</span>
                                <span>Enabled</span>
                            </div>
                        </div>
                        <div class="config-actions">
                            <button class="btn btn-sm btn-primary" onclick="editConfig('kiosk')">
                                <i class="fas fa-edit"></i>
                                Edit
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="duplicateConfig('kiosk')">
                                <i class="fas fa-copy"></i>
                                Duplicate
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="analytics-section">
            <div class="container">
                <div class="page-header">
                    <h1>Analytics & Reports</h1>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="exportReport()">
                            <i class="fas fa-download"></i>
                            Export Report
                        </button>
                    </div>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Device Usage</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-bar"></i>
                            <p>Usage Chart</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Lock Events</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line"></i>
                            <p>Events Chart</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Top Devices</h3>
                        <div class="top-devices">
                            <div class="device-item">
                                <span>DEV-001</span>
                                <span>1,234 events</span>
                            </div>
                            <div class="device-item">
                                <span>DEV-002</span>
                                <span>987 events</span>
                            </div>
                            <div class="device-item">
                                <span>DEV-003</span>
                                <span>756 events</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="settings-section">
            <div class="container">
                <div class="page-header">
                    <h1>System Settings</h1>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Firebase Configuration</h3>
                        <div class="setting-item">
                            <label>Project ID:</label>
                            <span>adnova-screen-lock-90521</span>
                        </div>
                        <div class="setting-item">
                            <label>Database:</label>
                            <span class="status-online">Connected</span>
                        </div>
                        <div class="setting-item">
                            <label>Storage:</label>
                            <span class="status-online">Available</span>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Security Settings</h3>
                        <div class="setting-item">
                            <label>Session Timeout:</label>
                            <input type="number" value="30" min="5" max="120"> minutes
                        </div>
                        <div class="setting-item">
                            <label>Auto Logout:</label>
                            <input type="checkbox" checked> Enable
                        </div>
                        <div class="setting-item">
                            <label>Two-Factor Auth:</label>
                            <input type="checkbox"> Enable
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Notifications</h3>
                        <div class="setting-item">
                            <label>Email Alerts:</label>
                            <input type="checkbox" checked> Enable
                        </div>
                        <div class="setting-item">
                            <label>Device Offline:</label>
                            <input type="checkbox" checked> Notify
                        </div>
                        <div class="setting-item">
                            <label>Security Events:</label>
                            <input type="checkbox" checked> Notify
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div id="deviceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Device Details</h2>
                <span class="close" onclick="closeModal('deviceModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div id="deviceDetails">
                    <!-- Device details will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="admin-script.js"></script>
</body>
</html>
